#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>

// Structure pour un maillon de liste chaînée
typedef struct Maillon {
    int valeur;
    struct Maillon *suivant;
} Maillon;


// Fonction pour créer un maillon avec une valeur et l'ajouter à une liste
Maillon* creer_maillon(int valeur, Maillon *Liste) {
    Maillon *nouveauMaillon = (Maillon*)malloc(sizeof(Maillon));
    if (nouveauMaillon == NULL) {
        fprintf(stderr, "Erreur lors de l'allocation de mémoire\n");
        exit(EXIT_FAILURE);
    }
    nouveauMaillon->valeur = valeur;
    nouveauMaillon->suivant = Liste;
    return nouveauMaillon;
}

// Procédure pour saisir dix valeurs au clavier et créer une liste
Maillon* creer_liste() {
    Maillon *liste = NULL;
    int valeur;
    printf("Veuillez saisir dix valeurs pour créer la liste :\n");
    for (int i = 0; i < 2; i++) {
        printf("Valeur %d : ", i + 1);
        scanf("%d", &valeur);
        
        liste = creer_maillon(valeur, liste);
    }
    return liste;
}

// Fonction pour tester l'égalité de deux listes
bool tester_egalite(Maillon *liste1, Maillon *liste2) {
    while (liste1 != NULL && liste2 != NULL) {
        if (liste1->valeur != liste2->valeur) {
            return false; // Les listes ne sont pas égales
        }
        liste1 = liste1->suivant;
        liste2 = liste2->suivant;
    }
    // Si les deux listes sont terminées en même temps, elles sont égales
    return (liste1 == NULL && liste2 == NULL);
}

// bool tester_egalite_recursive(Maillon *liste1, Maillon *liste2)
// {
//     if(liste1==NULL && liste2==NULL){}
//         return true;
//     else if(liste1==NULL || liste2==NULL)
//         return false;
//     if(liste1->valeur!=liste2->valeur)
//         return false;
//     return tester_egalite_recursive(liste1->suivant,liste2->suivant);
// }

// // Fucn pour concaténer deux listes dans une troisième liste
Maillon* concatenation_troisieme_liste(Maillon *liste1, Maillon *liste2) {
    Maillon copie = *liste2;
    Maillon *temp = liste2;
    Maillon *result=NULL;
    
    // Copier la première liste dans la nouvelle liste
    while (temp != NULL) {
        result = creer_maillon(temp->valeur, result);
        temp=temp->suivant;
        // temp = creer_maillon(copie.valeur, temp);
        // copie = *(copie.suivant);
    }
    temp=liste1;

    while (temp != NULL) {
        result = creer_maillon(temp->valeur, result);
        temp=temp->suivant;
        // temp = creer_maillon(copie.valeur, temp);
        // copie = *(copie.suivant);
    }
    // copie=*liste1;
    // while (copie.suivant != NULL) {
    //     temp = creer_maillon(copie.valeur, temp);
    //     copie = *(copie.suivant);
    // }
    // Copier la deuxième liste dans la nouvelle liste
    // Inverser l'ordre de la nouvelle liste pour qu'elle soit dans le bon sens
    // while (temp != NULL) {
    //     Maillon *suivant = temp->suivant;
    //     temp->suivant = nouvelleListe;
    //     nouvelleListe = temp;
    //     temp = suivant;
    // }
    return result;
}

// Procédure pour concaténer deux listes sans créer une troisième liste
void concatenation_sans_troisieme_liste(Maillon *liste1, Maillon *liste2) {
    while (liste1->suivant != NULL) {
        liste1 = liste1->suivant;
    }
    liste1->suivant = liste2;
}

int main() {
    // Création des deux listes avec dix valeurs saisies au clavier
    printf("Liste 1 :\n");
    Maillon *liste1 = creer_liste();
    printf("Liste 2 :\n");
    Maillon *liste2 = creer_liste();

    // // Test de l'égalité des deux listes
    // if (tester_egalite(liste1, liste2)) {
    //     printf("Les deux listes sont égales.\n");
    // } else {
    //     printf("Les deux listes ne sont pas égales.\n");
    // }

    // // Concaténation des deux listes dans une troisième liste
    // printf("Concaténation dans une troisième liste :\n");
    // Maillon *troisiemeListe = concatenation_troisieme_liste(liste1, liste2);
    // while (troisiemeListe != NULL) {
    //     printf("%d ", troisiemeListe->valeur);
    //     troisiemeListe = troisiemeListe->suivant;
    // }
    // printf("\n");
    // while (liste2 != NULL) {
    //     printf("%d ", liste2->valeur);
    //     liste2 = liste2->suivant;
    // }

    // // Remise à zéro des listes
    // liste1 = creer_liste();
    // liste2 = creer_liste();

    // Concaténation des deux listes sans créer une troisième liste
    printf("Concaténation sans créer une troisième liste :\n");
    concatenation_sans_troisieme_liste(liste1, liste2);
    while (liste1 != NULL) {
        printf("%d ", liste1->valeur);
        liste1 = liste1->suivant;
    }
    printf("\n");

    return 0;
}
