#include <stdio.h>
#include <errno.h>
#include <signal.h>
#include <unistd.h>

void it_fils() {
    //    sleep(3);
    printf(" kill (getppid(), SIGUSR2) ;\n");
    kill(getppid(), SIGUSR2);
    printf("\t Interruption : kill (getpid(),SIGINT)\n");
    kill(getpid(), SIGINT);
}

void fils() {
    printf("Fils qui recoit SIGUSR1\n");
    signal(SIGUSR1, it_fils);
    while(1);
    
}
void tuemoi(){
    printf(" kill (SIGUSR2,SIGINT) ;\n");
    kill(getpid(), SIGINT);
}

int main() {
    int pid;
    if ((pid = fork()) == 0){
        fils();
    }else {
         sleep(3);
        printf(" kill (pid,SIGUSR1) ;\n");
        kill(pid, SIGUSR1);
        signal(SIGUSR2,tuemoi);
        while(1);
      
       
        ;

    }
    return 0;
}
